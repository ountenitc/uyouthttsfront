<div class="register-form">
    <h3>Ajouter une Opinion</h3>
    <div>
        <form [formGroup]="formOpinion" (ngSubmit)="addOpinion()">
            <div class="form-group">
                <select formControlName="iddoctext" [(ngModel)]="iddoctext" [compareWith]="compareDoc">
                    <option [ngValue]="null" disabled>Choisir l'alphabet</option>
                    <option *ngFor="let doc of doctext" [ngValue]="doc">{{doc.titrefrdoc}}
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label for="optextefr">Texte en français</label>
                <textarea formControlName="optextefr" type="text" class="form-control"></textarea>
            </div>           
                <div class="form-group">            
                <button type="button" (click)="traduire()" class="btn btn-primary"> Traduire</button>               
            </div>
            <div class="form-group">
                <label for="sttextemr">Texte en langue</label>
                <textarea formControlName="optextemr" [(ngModel)]="optextemr" type="text" class="form-control"></textarea>
            </div>
            <button type="button" (click)="lireAudio()" class="btn btn-primary"> Générer l'audio</button>
            @if (audio) {
                <div class="form-group">
                    <figcaption>Le vocal </figcaption>
                    <audio controls autoplay>
                        <source src="{{opnionService.usersUrl+'/'+texteAudio}}" controls="" type="audio/mpeg">
                    </audio>
                </div>
            }
            
            
            <div class="mt-5">
                <button type="submit" class="btn btn-primary"> Enregistrer</button>
                <button type="button" (click)="onReset()" class="btn btn-warning float-right"> Annuler </button>
            </div>
        </form>
    </div>
</div>